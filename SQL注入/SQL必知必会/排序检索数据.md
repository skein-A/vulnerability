## 排序检索数据
### 排序数据
使用 SQL语句 返回某个数据库表的单个列，其输出并没有特定的顺序。
但其实，检索出的数据并不是随机显示的。
>如果不排序，数据一般将以它在底层表中出现的顺序显示，这有可能是数据最初添加到表中的顺序。
但是，如果数据随后进行过更新或删除，那么这个顺序将会受到 DBMS 重用回收存储空间的方式的影响。
因此，如果不明确控制的话，则最终的结果不能（也不应该）依赖该排序顺序。  
关系数据库设计理论认为，如果不明确规定排序顺序，则不应该假定检索出的数据的顺序有任何意义。

+ **子句（clause）**  
SQL语句 由子句构成，有些子句是必需的，有些则是可选的。  
一个子句通常由一个关键字加上所提供的数据组成。

  + `order by` 子句
  ```mysql
  SELECT prod_name
  FROM Products
  ORDER BY prod_name;
  ```
  >**order by 子句的位置(慎看）**  
  >在指定一条 ORDER BY 子句时，应该保证它是SELECT 语句中最后一条子句（试了一下，似乎并不是这样）。如果它不是最后的子句，将会出现错误信息。
  + 报错
  ```mysql
  SELECT id FROM users limit 10 ORDER BY username;
  ```
  + 没报错
  ```mysql
  SELECT id FROM users ORDER BY username limit 10;
  ```
  
  >**可以通过非选择列进行排序**  

### 按多个列排序
下面的代码检索3个列，并按其中两个列对结果进行排序——首先按价格，然后按名称排序。
```mysql
SELECT prod_id, prod_price, prod_name FROM Products ORDER BY prod_price, prod_name;
```
对于上述例子中，仅在多个行具有相同的 prod_price 值时，才对产品按 prod_name 进行排序。

### 按列位置排序
除了能用列名指出排序顺序外，ORDER BY 还支持按相对列位置进行排序。
```mysql
SELECT prod_id, prod_price, prod_name FROM Products ORDER BY 2, 3;
```
此处，ORDER BY后的数字 1对应prod_id, 2对应prod_price, 3对应prod_name
+ 好处：不用重新输入列名
+ 缺点：
  + 不明确给出列名可能错用列名排序
  + 在对SELECT清单进行更改时容易错误地对数据进行排序，忘记对ORDER BY子句做相应的改动
>**按非选择列排序**  
>当根据不出现在SELECT清单中的列进行排序时，不能采用这项技术。
>但是，如果有必要，**可以混合匹配使用实际列名和相对列位置**。

### 指定排序方向
下面的例子以价格降序来排序产品（最贵的排在最前面）：
```mysql
SELECT prod_id, prod_price, prod_name FROM Products ORDER BY prod_price DESC;
```

如果打算用多个列排序，该怎么办？下面的例子以降序排序产品（最贵的在最前面，再加上产品名）：
```mysql
SELECT prod_id, prod_price, prod_name FROM Products ORDER BY prod_price DESC, prod_name;
```
